<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Quiz - IntellaClick</title>
  <script type="module" crossorigin src="/assets/quiz-creator-full-C0zX-zyJ.js"></script>
  <link rel="modulepreload" crossorigin href="/assets/toast-93yYkT8V.js">
  <link rel="modulepreload" crossorigin href="/assets/api-Dxj3jBlT.js">
  <link rel="modulepreload" crossorigin href="/assets/logger-gSLuc3Ra.js">
  <link rel="stylesheet" crossorigin href="/assets/common-ABeTdMwf.css">
  <link rel="stylesheet" crossorigin href="/assets/create-session-BUlOf5Ha.css">
</head>
<body>
    <div class="container">
        <a href="quizzes.html" class="back-link">
            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
            </svg>
            Back to Quizzes
        </a>

        <div class="header">
            <h1>Create New Quiz</h1>
        </div>

        <div class="section">
            <h2>Quiz Information</h2>
            <form id="quizForm">
                <div class="form-group">
                    <label for="quizTitle">Quiz Title *</label>
                    <input type="text" id="quizTitle" placeholder="e.g., Chapter 3 Quiz" required>
                </div>

                <div class="form-group">
                    <label for="quizDescription">Description (Optional)</label>
                    <textarea id="quizDescription" rows="3" placeholder="Brief description of the quiz"></textarea>
                </div>

                <!-- Questions Section -->
                <div class="form-group">
                    <hr style="margin: 24px 0; border: none; border-top: 1px solid #e0e0e0;">
                    <h2 style="margin-bottom: 16px;">Quiz Questions</h2>

                    <!-- Questions List -->
                    <div id="questionsList" style="margin-bottom: 20px;"></div>

                    <label for="questionText">Add Question *</label>
                    <textarea id="questionText" rows="3" placeholder="Enter your question here..."></textarea>
                    <button type="button" class="btn btn-secondary" onclick="insertBlank()" style="margin-top: 8px; font-size: 0.9rem; padding: 0.5rem 1rem;">
                        Insert [blank] at cursor
                    </button>

                    <label style="margin-top: 16px;">Question Type</label>
                    <select id="questionType" onchange="updateQuestionOptions()">
                        <option value="mcq">Multiple Choice</option>
                        <option value="poll">Poll (No Correct Answer)</option>
                        <option value="tf">True/False</option>
                        <option value="matching">Matching</option>
                        <option value="ordering">Put in Order</option>
                        <option value="fillblank">Fill in the Blank</option>
                    </select>

                    <!-- Multiple Choice Options -->
                    <div id="mcqOptions" style="margin-top: 16px;">
                        <label>Answer Options</label>
                        <div id="mcqOptionsContainer" class="radio-group" style="flex-direction: column; gap: 10px;">
                            <!-- Options will be added dynamically -->
                        </div>
                        <div style="margin-top: 8px; display: flex; gap: 8px;">
                            <button type="button" class="btn btn-secondary btn-small" onclick="addMcqOption()">+ Add Option</button>
                            <button type="button" class="btn btn-secondary btn-small" onclick="removeMcqOption()">- Remove Last</button>
                        </div>
                        <small style="color: var(--text-secondary); margin-top: 8px; display: block;">Select the radio button next to the correct answer</small>
                    </div>

                    <!-- Poll Options (No Correct Answer) -->
                    <div id="pollOptions" style="margin-top: 16px; display: none;">
                        <label>Poll Options</label>
                        <div id="pollOptionsContainer" style="display: flex; flex-direction: column; gap: 10px;">
                            <!-- Options will be added dynamically -->
                        </div>
                        <div style="margin-top: 8px; display: flex; gap: 8px;">
                            <button type="button" class="btn btn-secondary btn-small" onclick="addPollOption()">+ Add Option</button>
                            <button type="button" class="btn btn-secondary btn-small" onclick="removePollOption()">- Remove Last</button>
                        </div>
                        <div style="margin-top: 12px;">
                            <label style="display: flex; align-items: center; gap: 8px; font-weight: normal; cursor: pointer;">
                                <input type="checkbox" id="pollParticipationPoints" style="width: auto; margin: 0;">
                                <span>Award points for participation (no wrong answer)</span>
                            </label>
                        </div>
                        <small style="color: var(--text-secondary); margin-top: 8px; display: block;">No correct answer - results will show distribution</small>
                    </div>

                    <!-- True/False Options -->
                    <div id="tfOptions" style="margin-top: 16px; display: none;">
                        <label>Correct Answer</label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" name="tfAnswer" value="true" checked>
                                <label>True</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="tfAnswer" value="false">
                                <label>False</label>
                            </div>
                        </div>
                    </div>

                    <!-- Matching Options -->
                    <div id="matchingOptions" style="margin-top: 16px; display: none;">
                        <label>Matching Pairs</label>
                        <div id="matchingPairsContainer" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 8px;">
                            <!-- Pairs will be added dynamically -->
                        </div>
                        <div style="margin-top: 8px; display: flex; gap: 8px;">
                            <button type="button" class="btn btn-secondary btn-small" onclick="addMatchingPair()">+ Add Pair</button>
                            <button type="button" class="btn btn-secondary btn-small" onclick="removeMatchingPair()">- Remove Last</button>
                        </div>
                    </div>

                    <!-- Ordering Options -->
                    <div id="orderingOptions" style="margin-top: 16px; display: none;">
                        <label>Items in Correct Order</label>
                        <div id="orderingItemsContainer" style="display: flex; flex-direction: column; gap: 8px; margin-top: 8px;">
                            <!-- Items will be added dynamically -->
                        </div>
                        <div style="margin-top: 8px; display: flex; gap: 8px;">
                            <button type="button" class="btn btn-secondary btn-small" onclick="addOrderingItem()">+ Add Item</button>
                            <button type="button" class="btn btn-secondary btn-small" onclick="removeOrderingItem()">- Remove Last</button>
                        </div>
                        <small style="color: var(--text-secondary); margin-top: 8px; display: block;">Enter items in the correct order</small>
                    </div>

                    <!-- Fill in the Blank Options -->
                    <div id="fillblankOptions" style="margin-top: 16px; display: none;">
                        <label>Correct Answer(s)</label>
                        <input type="text" id="blankAnswer" placeholder="Enter the correct answer" style="margin-top: 8px;">
                        <small style="color: var(--text-secondary); margin-top: 8px; display: block;">Use [blank] in your question text where the answer should go</small>
                    </div>

                    <!-- Add Question Button -->
                    <div style="margin-top: 16px; display: flex; gap: 8px;">
                        <button type="button" class="btn btn-primary" onclick="addQuestion()">+ Add This Question</button>
                        <button type="button" class="btn btn-secondary" id="cancelEditBtn" onclick="cancelEditQuestion()" style="display: none;">Cancel</button>
                    </div>
                </div>

                <div class="btn-group" style="margin-top: 32px;">
                    <button type="button" class="btn btn-secondary" onclick="cancelQuiz()">Cancel</button>
                    <button type="submit" class="btn btn-primary" id="saveButton">Save Quiz</button>
                </div>
            </form>
        </div>
    </div>

    <div id="toast" class="toast"></div>

</body>
</html>
